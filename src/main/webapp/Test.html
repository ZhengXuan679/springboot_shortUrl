<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>

    <script src="js/jquery-3.3.1.min.js"></script>
</head>
<body>
<div >
    <h2 id="hh"></h2>

 长链接：<input type="text" id="longUrl"><br>
 短链接长度：<input type="text" id="length"><br>
 key：<input type="text" id="keyword"><br>
    <button id="btn">提交</button></br>
    短链接：<input type="text" id="aa"><br>




</div>
 <script>
     $(function () {
         $("#btn").click(function () {
             var json={longUrl:$("#longUrl").val(),
                 shortUrl:$("#shortUrl").val(),
                 length:$("#length").val(),
                 keyword:$("#keyword").val()
              };
             $.ajax({
                 url:"/shortUrl",   // 请求路径
                 type:"post",            // 请求的方式，不区分大小写
                 async:false,             // 是否异步，true是默认值，false为同步请求
                 cache:false,            // 关闭缓存，目的是为了避免部分浏览器缓存加载出错(IE)
                 contentType:"application/json;charset=utf-8",
                 datatype:"json",        // 返回类型，text文本、html页面、json数据
                 data:JSON.stringify(json),
                 success:function(response){
                     alert("数据: " + JSON.stringify(response));
                     $("#aa").val("http://localhost:8080/zhengxuan/"+response.data);
                     $("#hh").html("点击提交按钮"+response.count+"次")
                 },
                 error:function(response){
                     alert("出错" + response);
                 }
             });
         })

              });

 </script>

</body>
</html>